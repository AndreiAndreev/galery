DROP TABLE IF EXISTS users CASCADE;
DROP TABLE IF EXISTS images;
DROP SEQUENCE IF EXISTS users_seq;

CREATE TABLE users
(
  id         INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 1) PRIMARY KEY,
  firstName  VARCHAR(16) NOT NULL,
  lastName   VARCHAR(255) NOT NULL,
  email      VARCHAR(255) NOT NULL,
  password   VARCHAR(255) NOT NULL,
  birthDate TIMESTAMP,
  otherInform VARCHAR(400)
);

CREATE UNIQUE INDEX users_unique_email_idx ON users(email);

CREATE TABLE images
(
  image_id    INTEGER NOT NULL,
  image_ref   VARCHAR(255),
  FOREIGN KEY (image_id) REFERENCES users(id) ON DELETE CASCADE
);